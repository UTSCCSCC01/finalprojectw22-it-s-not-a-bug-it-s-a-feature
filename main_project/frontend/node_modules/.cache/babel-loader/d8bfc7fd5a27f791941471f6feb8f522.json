{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sasan\\\\OneDrive\\\\Desktop\\\\new s4\\\\finalprojectw22-it-s-not-a-bug-it-s-a-feature\\\\main_project\\\\frontend\\\\src\\\\LiveStreams.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport './LiveStreams.scss';\nimport config from './config/default';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Navbar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      live_streams: []\n    };\n  }\n\n  componentDidMount() {\n    this.getLiveStreams();\n  }\n\n  getLiveStreams() {\n    axios.get('http://127.0.0.1:' + config.rtmp_server.http.port + '/api/streams').then(res => {\n      let streams = res.data;\n\n      if (typeof (streams['live'] !== 'undefined')) {\n        this.getStreamsInfo(streams['live']);\n      }\n    });\n  }\n\n  getStreamsInfo(live_streams) {\n    axios.get('/streams/info', {\n      params: {\n        streams: live_streams\n      }\n    }).then(res => {\n      this.setState({\n        live_streams: res.data\n      }, () => {\n        console.log(this.state);\n      });\n    });\n  }\n\n  render() {\n    let streams = this.state.live_streams.map((stream, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stream col-xs-12 col-sm-12 col-md-3 col-lg-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"live-label\",\n          children: \"LIVE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: '/stream/' + stream.username,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stream-thumbnail\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: '/thumbnails/' + stream.stream_key + '.png'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"username\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: '/stream/' + stream.username,\n            children: stream.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Live Streams\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"my-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"streams row\",\n        children: streams\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/sasan/OneDrive/Desktop/new s4/finalprojectw22-it-s-not-a-bug-it-s-a-feature/main_project/frontend/src/LiveStreams.js"],"names":["React","axios","Link","config","Navbar","Component","constructor","props","state","live_streams","componentDidMount","getLiveStreams","get","rtmp_server","http","port","then","res","streams","data","getStreamsInfo","params","setState","console","log","render","map","stream","index","username","stream_key"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAO,oBAAP;AACA,OAAOC,MAAP,MAAmB,kBAAnB;;AAGA,eAAe,MAAMC,MAAN,SAAqBJ,KAAK,CAACK,SAA3B,CAAqC;AAEhDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,YAAY,EAAE;AADL,KAAb;AAGH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,cAAL;AACH;;AAEDA,EAAAA,cAAc,GAAG;AACbV,IAAAA,KAAK,CAACW,GAAN,CAAU,sBAAsBT,MAAM,CAACU,WAAP,CAAmBC,IAAnB,CAAwBC,IAA9C,GAAqD,cAA/D,EACKC,IADL,CACUC,GAAG,IAAI;AACT,UAAIC,OAAO,GAAGD,GAAG,CAACE,IAAlB;;AACA,UAAI,QAAQD,OAAO,CAAC,MAAD,CAAP,KAAoB,WAA5B,CAAJ,EAA8C;AAC1C,aAAKE,cAAL,CAAoBF,OAAO,CAAC,MAAD,CAA3B;AACH;AACJ,KANL;AAOH;;AAEDE,EAAAA,cAAc,CAACX,YAAD,EAAe;AACzBR,IAAAA,KAAK,CAACW,GAAN,CAAU,eAAV,EAA2B;AACvBS,MAAAA,MAAM,EAAE;AACJH,QAAAA,OAAO,EAAET;AADL;AADe,KAA3B,EAIGO,IAJH,CAIQC,GAAG,IAAI;AACX,WAAKK,QAAL,CAAc;AACVb,QAAAA,YAAY,EAAEQ,GAAG,CAACE;AADR,OAAd,EAEG,MAAM;AACLI,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhB,KAAjB;AACH,OAJD;AAKH,KAVD;AAWH;;AAEDiB,EAAAA,MAAM,GAAG;AACL,QAAIP,OAAO,GAAG,KAAKV,KAAL,CAAWC,YAAX,CAAwBiB,GAAxB,CAA4B,CAACC,MAAD,EAASC,KAAT,KAAmB;AACzD,0BACI;AAAK,QAAA,SAAS,EAAC,8CAAf;AAAA,gCACI;AAAM,UAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,IAAD;AAAM,UAAA,EAAE,EAAE,aAAaD,MAAM,CAACE,QAA9B;AAAA,iCACI;AAAK,YAAA,SAAS,EAAC,kBAAf;AAAA,mCACI;AAAK,cAAA,GAAG,EAAE,iBAAiBF,MAAM,CAACG,UAAxB,GAAqC;AAA/C;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAQI;AAAM,UAAA,SAAS,EAAC,UAAhB;AAAA,iCACI,QAAC,IAAD;AAAM,YAAA,EAAE,EAAE,aAAaH,MAAM,CAACE,QAA9B;AAAA,sBACKF,MAAM,CAACE;AADZ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBARJ;AAAA,SAAmED,KAAnE;AAAA;AAAA;AAAA;AAAA,cADJ;AAgBH,KAjBa,CAAd;AAmBA,wBACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAI,QAAA,SAAS,EAAC;AAAd;AAAA;AAAA;AAAA;AAAA,cAFJ,eAII;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,kBACKV;AADL;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAUH;;AAnE+C","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport {Link} from 'react-router-dom';\r\nimport './LiveStreams.scss';\r\nimport config from './config/default';\r\n \r\n \r\nexport default class Navbar extends React.Component {\r\n \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            live_streams: []\r\n        }\r\n    }\r\n \r\n    componentDidMount() {\r\n        this.getLiveStreams();\r\n    }\r\n \r\n    getLiveStreams() {\r\n        axios.get('http://127.0.0.1:' + config.rtmp_server.http.port + '/api/streams')\r\n            .then(res => {\r\n                let streams = res.data;\r\n                if (typeof (streams['live'] !== 'undefined')) {\r\n                    this.getStreamsInfo(streams['live']);\r\n                }\r\n            });\r\n    }\r\n \r\n    getStreamsInfo(live_streams) {\r\n        axios.get('/streams/info', {\r\n            params: {\r\n                streams: live_streams\r\n            }\r\n        }).then(res => {\r\n            this.setState({\r\n                live_streams: res.data\r\n            }, () => {\r\n                console.log(this.state);\r\n            });\r\n        });\r\n    }\r\n \r\n    render() {\r\n        let streams = this.state.live_streams.map((stream, index) => {\r\n            return (\r\n                <div className=\"stream col-xs-12 col-sm-12 col-md-3 col-lg-4\" key={index}>\r\n                    <span className=\"live-label\">LIVE</span>\r\n                    <Link to={'/stream/' + stream.username}>\r\n                        <div className=\"stream-thumbnail\">\r\n                            <img src={'/thumbnails/' + stream.stream_key + '.png'}/>\r\n                        </div>\r\n                    </Link>\r\n \r\n                    <span className=\"username\">\r\n                        <Link to={'/stream/' + stream.username}>\r\n                            {stream.username}\r\n                        </Link>\r\n                    </span>\r\n                </div>\r\n            );\r\n        });\r\n \r\n        return (\r\n            <div className=\"container mt-5\">\r\n                <h4>Live Streams</h4>\r\n                <hr className=\"my-4\"/>\r\n \r\n                <div className=\"streams row\">\r\n                    {streams}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}